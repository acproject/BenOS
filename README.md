# 实验9：实现panic功能和打印函数调用栈
## 1．实验目的
1)	了解ARM64处理器函数调用栈的布局。
2)	了解缺页异常处理中哪些情况会触发panic。

## 2．实验要求
1)	在BenOS中实现panic()函数，在panic()里打印必要的信息，比如触发panic是在哪个进程，在哪个CPU上等信息。
2)	在panic()函数里实现dump_backtrace()函数，打印函数调用栈。
3)  实现一个show_regs()函数，打印发生异常时候的寄存器信息。

### 3. 测试用例
1) 在某个函数中调用dump_backtrace()函数，打印函数调用栈关系图。例如
```
Call trace:
[<0x0000000000083e9c>] dump_backtrace+0x0/0xc4
[<0x0000000000081030>] start_user_thread+0x50/0x60
[<0x0000000000081088>] move_to_user_space+0x48/0x58
[<0x0000000000080a44>] user_thread+0x3c/0x60
```
2） 发生异常时候能打印类似如下信息：
```
Bad mode for Sync Abort handler detected, esr:0x2000000  - Unknown/Uncategorized
task: 0000000000403000
PC is at 0x0000000000404f50
LR is at 0x0000000000083c5c
pc : [<0000000000404f50>] lr : [<0000000000083c5c>] pstate : [<0000000080000345>]
sp : 0000000000403ec0
x29: 0000000000404ec0 x28: 0000000000403000 
x27: 0000000000000000 x26: 0000000000000000 
x25: 0000000000000000 x24: 0000000000000001 
x23: 0000000020000000 x22: 0000000000084a10 
x21: 0000000000404ec0 x20: 0000000000000000 
x19: 0000000000404f50 x18: 0000000000000000 
x17: 0000000000000000 x16: 0000000000000000 
x15: 0000000000000000 x14: 0000000000000000 
x13: 0000000000000000 x12: 0000000000000000 
x11: 0000000000000000 x10: 000000000008009c 
x9 : 0000000000403e50 x8 : 0000000000403070 
x7 : 0000000000000000 x6 : 00000000000800d8 
x5 : 0000000000000002 x4 : 00000000ffffffff 
x3 : 00000000ffffffff x2 : 00000000000816a4 
x1 : 0000000000000000 x0 : 0000000000000000 
```
